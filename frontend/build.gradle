
//调用npm run build命令的Gradle任务
task build {
    group = 'node'
    doLast {
        exec {
            commandLine 'npm', 'run', 'build'
        }
    }
}

task npmInstall {
    group = 'node'
    doLast {
        exec {
            // npm --registry https://registry.npm.taobao.org install
            commandLine 'npm', '--registry', 'https://registry.npm.taobao.org', 'install'
        }
    }
}

task npmDebug {
    group = 'node'
    doLast {
        exec {
            commandLine 'npm', 'run', 'start'
        }
    }
}
build.dependsOn npmInstall
